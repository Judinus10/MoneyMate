<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Transaction List</title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <h1>Transaction List for User <span th:text="${userId}">UserID</span></h1>

    <div th:if="${message}">
        <p th:text="${message}" style="color:green;"></p>
    </div>

    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Amount</th>
                <th>Type</th>
                <th>Category</th>
                <th>Date & Time</th>
                <th>Description</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="tx : ${transactions}">
                <td th:text="${tx.id}">1</td>
                <td th:text="${tx.amount}">100.00</td>
                <td th:text="${tx.type}">income</td>
                <td th:text="${tx.category}">Food</td>
                <td th:text="${#dates.format(tx.date, 'yyyy-MM-dd HH:mm')}">2025-06-04 12:30</td>
                <td th:text="${tx.description}">Lunch</td>
                <td>
                    <form method="post" th:action="@{'/transactions/delete/' + ${tx.id}}">
                        <input type="hidden" name="userId" th:value="${userId}" />
                        <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>

    <br>
    <a th:href="@{/transactions(userId=${userId})}">Add Another Transaction</a>
</body>

</html>
